function csrfSafeMethod(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}function getCookie(a){var b=null;if(document.cookie&&""!==document.cookie)for(var d=document.cookie.split(";"),c=0;c<d.length;c++){var e=d[c].trim();if(e.substring(0,a.length+1)===a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}$.ajaxSetup({beforeSend:function(a,b){csrfSafeMethod(b.type)||this.crossDomain||(b=getCookie("csrftoken"),a.setRequestHeader("X-CSRFToken",b))}});
$(document).ready(function(){console.log("Starting");setup()});function updateDisplay(a){$("#count-val").text(a.count);$("#total-val").text(a.total);$("#peak-val").text(a.peak)}function inc(){send(1)}function dec(){send(-1)}function send(a){$.ajax({url:"/api/count/update/",method:"POST",dataType:"json",data:{change:a},success:updateDisplay})}function check(){$.ajax({url:"/api/count/get/",dataType:"json",type:"get",success:updateDisplay})}
function setup(){setInterval(function(){check()},500);check()};
